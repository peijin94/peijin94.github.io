
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Peijin's website">
      
      
        <meta name="author" content="Peijin Zhang">
      
      
        <link rel="canonical" href="https://pjzhang.cc/lofarsun/">
      
      
        <link rel="prev" href="../innerhelio/">
      
      
        <link rel="next" href="../matlab/">
      
      
      <link rel="icon" href="../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>lofarsun - Peijin Zhang</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../my.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-9V9GR7Z2HP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-9V9GR7Z2HP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-9V9GR7Z2HP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    


<meta rel="me" href="https://astrodon.social/@peijin" />





  <meta property="og:type" content="website" />


<meta property="og:url" content="https://pjzhang.cc/lofarsun/" />


  <meta property="og:image:url" content="https://pjzhang.cc/img/favicon.ico" />



  <meta property="og:image:type" content="image/png" />



  <meta property="og:description" content="Peijin's website">




  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lofar-solar-cookbook" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Peijin Zhang" class="md-header__button md-logo" aria-label="Peijin Zhang" data-md-component="logo">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Peijin Zhang
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              lofarsun
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/peijin94" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Peijin Zhang" class="md-nav__button md-logo" aria-label="Peijin Zhang" data-md-component="logo">
      
  <img src="../img/favicon.ico" alt="logo">

    </a>
    Peijin Zhang
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/peijin94" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index_ch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home (中文版)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home (English)
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Research
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Research
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solarradio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Solar Radio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataproc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data Processing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../innerhelio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inner Heliosphere
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    More
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            More
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    dev
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            dev
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    lofarsun
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    lofarsun
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Calibration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imaging" class="md-nav__link">
    <span class="md-ellipsis">
      Imaging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-inspection" class="md-nav__link">
    <span class="md-ellipsis">
      Image inspection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image inspection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleaned-image" class="md-nav__link">
    <span class="md-ellipsis">
      CLEANed image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspect-the-residual-image" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the Residual Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspect-the-uv-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the UV coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-lofarsun" class="md-nav__link">
    <span class="md-ellipsis">
      Module LofarSun
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-brewing" class="md-nav__link">
    <span class="md-ellipsis">
      Image Brewing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image Brewing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scales" class="md-nav__link">
    <span class="md-ellipsis">
      Scales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteration-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Iteration steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiscale" class="md-nav__link">
    <span class="md-ellipsis">
      Multiscale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      Abbreviations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matlab
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gamedev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    游戏开发
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fortran/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fortran
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phoneMonitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LCD
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    物理
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            物理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../solarPhoton/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    光子在辐射区的随机行走
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#calibration" class="md-nav__link">
    <span class="md-ellipsis">
      Calibration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imaging" class="md-nav__link">
    <span class="md-ellipsis">
      Imaging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-inspection" class="md-nav__link">
    <span class="md-ellipsis">
      Image inspection
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image inspection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cleaned-image" class="md-nav__link">
    <span class="md-ellipsis">
      CLEANed image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspect-the-residual-image" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the Residual Image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspect-the-uv-coverage" class="md-nav__link">
    <span class="md-ellipsis">
      Inspect the UV coverage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-lofarsun" class="md-nav__link">
    <span class="md-ellipsis">
      Module LofarSun
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#image-brewing" class="md-nav__link">
    <span class="md-ellipsis">
      Image Brewing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Image Brewing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scales" class="md-nav__link">
    <span class="md-ellipsis">
      Scales
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iteration-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Iteration steps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiscale" class="md-nav__link">
    <span class="md-ellipsis">
      Multiscale
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abbreviations" class="md-nav__link">
    <span class="md-ellipsis">
      Abbreviations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="lofar-solar-cookbook">LOFAR Solar Cookbook<a class="headerlink" href="#lofar-solar-cookbook" title="Permanent link">&para;</a></h1>
<p>2019 Summer By <strong>Peijin Zhang</strong>
Directed by <strong>Pietro Zucca</strong> and <strong>Sarrvesh Sridhar</strong></p>
<p>a more detailed document: <a href="https://lofar-sun-tools.readthedocs.io/">lofar-sun-tools.readthedocs.io</a></p>
<p>LOFAR can produce high spatial resolution (10asec) interferometry
image at 6 Frame per Second. This document shows the reduction process
of the solar imaging and dynamic spectrum data.</p>
<p>All the code mentioned in this page can be found in <a href="https://github.com/Pjer-zhang/LOFAR_Solar">github</a></p>
<p>Some of the frequently used functions have been packed into a module : <strong>LofarSun</strong>, a simple demo :  <a href="/static/demo.html">demo</a></p>
<h2 id="calibration">Calibration<a class="headerlink" href="#calibration" title="Permanent link">&para;</a></h2>
<p>The calibration uses a well known and stable source to convert all the
signals received by different antenna to a same reference level.</p>
<p>This can be done by following the steps below:</p>
<ul>
<li>Create the source.db file with a sky model of the calibrator</li>
</ul>
<div class="codehilite"><pre><span></span><code>makesourcedb<span class="w"> </span><span class="k">in</span><span class="o">=</span>/path/to/TauA.skymodel<span class="w"> </span><span class="nv">out</span><span class="o">=</span>TauA.sourcedb
</code></pre></div>

<ul>
<li>Run auto-weight with NDPPP (Note: this step should be done for both
    sun and the calibrator):</li>
</ul>
<div class="codehilite"><pre><span></span><code>NDPPP<span class="w"> </span><span class="nv">msin</span><span class="o">=</span>/path/to/calibrator.MS
<span class="nv">msout</span><span class="o">=</span>/path/to/calibrator-autow.MS
<span class="nv">steps</span><span class="o">=[]</span>

msin.autoweight<span class="o">=</span>True
</code></pre></div>

<ul>
<li>Use the observation of the calibrator to predict the parameters for
    the calculation applied to the solar observation</li>
</ul>
<div class="codehilite"><pre><span></span><code>NDPPP<span class="w"> </span><span class="nv">msin</span><span class="o">=</span>/path2/to/calibrator-autow.ms<span class="w"> </span><span class="se">\</span>
<span class="nv">Msout</span><span class="o">=</span>.<span class="w"> </span><span class="se">\</span>
<span class="nv">steps</span><span class="o">=[</span>gaincal<span class="o">]</span><span class="w"> </span><span class="se">\</span>
gaincal.usebeammodel<span class="o">=</span>True<span class="w">  </span><span class="se">\</span>
gaincal.solint<span class="o">=</span><span class="m">4</span><span class="w"> </span><span class="se">\</span>
gaincal.sources<span class="o">=</span>TauAGG<span class="w"> </span><span class="se">\</span>
gaincal.sourcedb<span class="o">=</span>TauA.sourcedb<span class="w"> </span><span class="se">\</span>
gaincal.onebeamperpatch<span class="o">=</span>True<span class="w"> </span><span class="se">\</span>
gaincal.caltype<span class="o">=</span>diagonal
</code></pre></div>

<ul>
<li>Apply the parameters predicted by step (3)</li>
</ul>
<div class="codehilite"><pre><span></span><code>NDPPP<span class="w"> </span><span class="nv">msin</span><span class="o">=</span>/path2/to/sun-autow.ms<span class="w"> </span><span class="se">\</span>
<span class="nv">msout</span><span class="o">=</span>.<span class="w"> </span><span class="se">\</span>
msin.datacolumn<span class="o">=</span>DATA<span class="w"> </span><span class="se">\</span>
msout.datacolumn<span class="o">=</span>CORR_NO_BEAM<span class="w"> </span><span class="se">\</span>
<span class="nv">steps</span><span class="o">=[</span>applycal<span class="o">]</span><span class="w"> </span><span class="se">\</span>
applycal.parmdb<span class="o">=</span>/path/to/calibrator-autow.MS/instrument<span class="w"> </span><span class="se">\</span>
applycal.updateweights<span class="o">=</span>True
</code></pre></div>

<ul>
<li>Apply the beam of the calculation for the LOFAR station:</li>
</ul>
<div class="codehilite"><pre><span></span><code>NDPPP<span class="w"> </span><span class="nv">msin</span><span class="o">=</span>sun-autow.MS<span class="w"> </span><span class="se">\</span>
<span class="nv">msout</span><span class="o">=</span>.<span class="w"> </span><span class="se">\</span>
msin.datacolumn<span class="o">=</span>CORR_NO_BEAM<span class="w"> </span><span class="se">\</span>
msout.datacolumn<span class="o">=</span>CORRECTED_DATA<span class="w"> </span><span class="se">\</span>
<span class="nv">steps</span><span class="w"> </span><span class="o">=[</span>applybeam<span class="o">]</span><span class="w"> </span><span class="se">\</span>
applybeam.updateweights<span class="o">=</span>True
</code></pre></div>

<p>The steps (2)-(5) are integrated in the script <strong>auto_sun_calib.py</strong>
to calibrate the MS files in batch.</p>
<p>For the solar interferometry, the calibration is essential. Figure 1
shows the difference between the calibrated and un-calibrated data</p>
<p><img alt="demoimg" src="../media/image1.png" />
<img alt="demoimg" src="../media/image2.png" /></p>
<p>Figure 1. The image result of calibrated and un-calibrated data</p>
<h2 id="imaging">Imaging<a class="headerlink" href="#imaging" title="Permanent link">&para;</a></h2>
<p>After the calibration, the produced file [sun-autow.MS] is ready for
imaging, here we use the software [wsclean] to produce the solar radio
image from the visibilities. The full document of wsclean can be found
in this link :
<a href="https://sourceforge.net/p/wsclean/wiki/Home/">[https://sourceforge.net/p/wsclean/wiki/Home/]{.underline}</a></p>
<p>For the solar imaging, we use the following parameters:</p>
<div class="codehilite"><pre><span></span><code>wsclean<span class="w"> </span>-j<span class="w"> </span><span class="m">40</span><span class="w"> </span>-mem<span class="w"> </span><span class="m">30</span><span class="w"> </span>-no-reorder<span class="w"> </span>-no-update-model-required<span class="w"> </span><span class="se">\</span>
-mgain<span class="w"> </span><span class="m">0</span>.3<span class="w"> </span>-weight<span class="w"> </span>briggs<span class="w"> </span><span class="m">0</span><span class="w"> </span>-size<span class="w"> </span><span class="m">512</span><span class="w"> </span><span class="m">512</span><span class="w"> </span><span class="se">\</span>
-scale<span class="w"> </span>10asec<span class="w"> </span>-pol<span class="w"> </span>I<span class="w"> </span>-data-column<span class="w"> </span>CORRECTED_DATA<span class="w"> </span><span class="se">\</span>
-niter<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-intervals-out<span class="w"> </span><span class="m">1</span><span class="w"> </span>-interval<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="se">\</span>
-name<span class="w"> </span>/path/to/prefix<span class="w"> </span><span class="se">\</span>
/path/to/sun-autow.MS
</code></pre></div>

<p>Larger iterations and more tweaking with these parameters can help
make a better image. Details about the parameters are introduced in
the imaging brew section.</p>
<h2 id="image-inspection">Image inspection<a class="headerlink" href="#image-inspection" title="Permanent link">&para;</a></h2>
<h3 id="cleaned-image">CLEANed image<a class="headerlink" href="#cleaned-image" title="Permanent link">&para;</a></h3>
<p>Sometimes we need to interact with the data and see how it looks like
immediately after the data reduction. It would be efficiency if we can
plot the data from the shell command and see the image from a pop-up
window.</p>
<p>For general purpose of the fits inspection, one can use display or kvis
command to inspect the image:</p>
<div class="codehilite"><pre><span></span><code>display<span class="w"> </span>filename.fits
</code></pre></div>

<p>Or:</p>
<div class="codehilite"><pre><span></span><code>module<span class="w"> </span>load<span class="w"> </span>karma
kvis<span class="w"> </span>filename.fits
</code></pre></div>

<p>This commands will show you the image without the coordinate:</p>
<p><img alt="demoimg" src="../media/image3.png" /></p>
<p><strong>Figure 1.</strong> The image shown in [display]</p>
<p>For solar image after wsclean, one can use displayws.py:
(<strong>deprecated now, see <a href="https://github.com/Pjer-zhang/LOFAR_Solar">LofarSun</a> for detail</strong>)</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>displayws.py<span class="w"> </span>-h
</code></pre></div>

<p>displayws.py version 0.01 [Python2]
by Peijin.Zhang 2019</p>
<p>Inspect the LOFAR solar interferometry data produced by wsclean, with
[RA,DEC] transfered to the Heliocentric coordinate.</p>
<p>Parameters:</p>
<p>-t --txt Show the text information of the wsclean fits file</p>
<p>-n --no-plot Do not show plot</p>
<p>-h --help Display this information</p>
<p>-o --out Save the result without display</p>
<p>example:</p>
<div class="codehilite"><pre><span></span><code>displayws.py<span class="w"> </span>fname.fits<span class="w"> </span>-t<span class="w"> </span>-n
displayws.py<span class="w"> </span>fname.fits
displayws.py<span class="w"> </span>fname.fits<span class="w"> </span>-o<span class="w"> </span>save.png
</code></pre></div>

<p>This script can give us a plot of the radio in the Heliocentric coordinate, with Arc-Second axis, and the time and frequency channel will be shown in the title and legend in the plot, also the beam shape given from the parameters given by the fits header:</p>
<p><strong>[BMAJ]</strong>: The major axis of the beam.</p>
<p><strong>[BMIN]</strong>: The min axis of the beam</p>
<p><strong>[BPA]</strong>: The position angel of the major</p>
<p><img alt="demoimg" src="../media/image4.png" /></p>
<p><strong>Figure 2.</strong> Solar interferometry shown with displayws.py</p>
<p>In displayws.py the beam shape experience the same transform as the sun
to the Heliocentric coordinate. And with <strong>--t --n</strong> arguments, one can
see the full content of the fits header.</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>displayws.py<span class="w"> </span>fits<span class="se">\_</span>test<span class="se">\_</span>par/SB028-image.fits<span class="w"> </span>-n<span class="w"> </span>-t
</code></pre></div>

<p>output:</p>
<div class="codehilite"><pre><span></span><code>[INFO] Do not show the image
[INFO] Show the header of the wsfile
SIMPLE = T / file does conform to FITS standard
BITPIX = -32 / number of bits per data pixel
NAXIS = 4 / number of data axes
NAXIS1 = 512 / length of data axis 1
...
... //lots of information text
WSCTIMES= 27250.
WSCVWSUM= 0.0770765469463797
HISTORY wsclean -j 40 -mem 30 -no-reorder -no-update-model-required -mgain 0.5 -
HISTORY weight briggs 0 -size 512 512 -scale 10.5469asec -pol I -data-column COR
HISTORY RECTED\_DATA -niter 500 -intervals-out 1 -interval 27250 27255 -fit-beam
HISTORY -make-psf -name /data/scratch/zhang/fits\_test\_par/SB028 /data/scratch/zh
HISTORY ang/MS/L701913\_SAP000\_SB028\_autow\_uv.MS
</code></pre></div>

<p>I also recommend the Jupyter Notebook for the data interaction, which
can show image inline the script.</p>
<h3 id="inspect-the-residual-image">Inspect the Residual Image<a class="headerlink" href="#inspect-the-residual-image" title="Permanent link">&para;</a></h3>
<p>For a CLEANed image, one should always check the residual image, if the
residual image is flat and the positive and negative values are randomly
distributed. One can judge the quality of a CLEANed image by comparing
the peak values of the CLEANed image and its residual image:</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>displayws.py<span class="w"> </span>/path/to/XXX-residual.fits
</code></pre></div>

<p>A good residual of solar image looks like:</p>
<p><img alt="demoimg" src="../media/image5.png" /></p>
<p>Figure 3. The residual image</p>
<h3 id="inspect-the-uv-coverage">Inspect the UV coverage<a class="headerlink" href="#inspect-the-uv-coverage" title="Permanent link">&para;</a></h3>
<p>The UV coverage information can be saved by wsclean by append
<strong>--save-uv</strong> parameter to the wsclean command. And one can inspect the
UV coverage using the previous script:</p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>displayws.py<span class="w"> </span>/path/to/XXX-uv-real.fits
</code></pre></div>

<p>If there is '--uv' string in the input file name, it will show the UV
coverage in wavenumber space. A sample UV coverage looks like:</p>
<p><img alt="demoimg" src="../media/image6.png" />
Figure 4. The UV coverage</p>
<h3 id="module-lofarsun">Module LofarSun<a class="headerlink" href="#module-lofarsun" title="Permanent link">&para;</a></h3>
<p>For scientific use, the module LofarSun can provide the <strong>Brightness temperature (Tb)</strong> map of the sun, and it is quite simple:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># import everything we need</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">lofarSun.lofarData</span> <span class="kn">import</span> <span class="n">LofarDataBF</span><span class="p">,</span> <span class="n">LofarDataCleaned</span>

<span class="c1"># process interferometry data</span>
<span class="n">lofar_cleaned</span> <span class="o">=</span> <span class="n">LofarDataCleaned</span><span class="p">()</span>
<span class="n">lofar_cleaned</span><span class="o">.</span><span class="n">load_fits</span><span class="p">(</span><span class="s1">&#39;SB058-t0032-image.fits&#39;</span><span class="p">)</span>
<span class="n">lofar_cleaned</span><span class="o">.</span><span class="n">plot_image</span><span class="p">()</span>
</code></pre></div>

<p>which gives you:</p>
<p><img alt="demoimg" src="../media/lofarsungit.png" /></p>
<h2 id="image-brewing">Image Brewing<a class="headerlink" href="#image-brewing" title="Permanent link">&para;</a></h2>
<p>Wsclean is a complex and powerful software, it can produce amazing image
when the parameters are set properly, in this section, we introduce a
few parameters that may influence the image result.</p>
<h3 id="scales">Scales<a class="headerlink" href="#scales" title="Permanent link">&para;</a></h3>
<p>The <strong>--size</strong> and <strong>--scale</strong> argument controls the dimensions of the
produced image, <strong>-size</strong> determines the pixel size (2 parameters: width
and height) of the produced image. <strong>--scale</strong> determines the angular
with of a pixel.</p>
<p>The wsclean users should be aware that the image with different size can
result in totally different image. The following is an example of solar
imaging with different <strong>--size</strong></p>
<p>Configuration of image (1)</p>
<div class="codehilite"><pre><span></span><code>wsclean<span class="w"> </span>-j<span class="w"> </span><span class="m">40</span><span class="w"> </span>-mem<span class="w"> </span><span class="m">80</span><span class="w"> </span>-no-reorder<span class="w"> </span>-no-update-model-required<span class="se">\</span>
-mgain<span class="w"> </span><span class="m">0</span>.7<span class="w"> </span>-weight<span class="w"> </span>briggs<span class="w"> </span><span class="m">0</span><span class="w"> </span>-size<span class="w"> </span><span class="m">1000</span><span class="w"> </span><span class="m">1000</span><span class="w"> </span><span class="se">\</span>
-scale<span class="w"> </span>3asec<span class="w"> </span>-pol<span class="w"> </span>I<span class="w"> </span>-auto-mask<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
-auto-threshold<span class="w"> </span><span class="m">0</span>.3<span class="w"> </span>-data-column<span class="w"> </span>CORRECTED_DATA<span class="w"> </span><span class="se">\</span>
-niter<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-intervals-out<span class="w"> </span><span class="m">1</span><span class="w"> </span>-interval<span class="w"> </span><span class="m">27250</span><span class="w"> </span><span class="m">27255</span><span class="w"> </span><span class="se">\</span>
-fit-beam<span class="w"> </span>-make-psf<span class="w"> </span><span class="se">\</span>
-name<span class="w"> </span>/path/to/output/name<span class="w"> </span>/path/to/input.MS
</code></pre></div>

<p>Configuration of image (2)</p>
<div class="codehilite"><pre><span></span><code>wsclean<span class="w"> </span>-j<span class="w"> </span><span class="m">40</span><span class="w"> </span>-mem<span class="w"> </span><span class="m">80</span><span class="w"> </span>-no-reorder<span class="w"> </span>-no-update-model-required<span class="se">\</span>
-mgain<span class="w"> </span><span class="m">0</span>.7<span class="w"> </span>-weight<span class="w"> </span>briggs<span class="w"> </span><span class="m">0</span><span class="w"> </span>-size<span class="w"> </span><span class="m">6000</span><span class="w"> </span><span class="m">6000</span><span class="w"> </span><span class="se">\</span>
-scale<span class="w"> </span>3asec<span class="w"> </span>-pol<span class="w"> </span>I<span class="w"> </span>-auto-mask<span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="se">\</span>
-auto-threshold<span class="w"> </span><span class="m">0</span>.3<span class="w"> </span>-data-column<span class="w"> </span>CORRECTED_DATA<span class="w"> </span><span class="se">\</span>
-niter<span class="w"> </span><span class="m">1000</span><span class="w"> </span>-intervals-out<span class="w"> </span><span class="m">1</span><span class="w"> </span>-interval<span class="w"> </span><span class="m">27250</span><span class="w"> </span><span class="m">27255</span><span class="w"> </span><span class="se">\</span>
-fit-beam<span class="w"> </span>-make-psf<span class="w"> </span><span class="se">\</span>
-name<span class="w"> </span>/path/to/output/name<span class="w"> </span>/path/to/input.MS
</code></pre></div>

<p><img alt="demoimg" src="../media/image7.png" />
<img alt="demoimg" src="../media/image8.png" /></p>
<p><strong>Figure 3.</strong> The comparing of imaging result with diffrerent pixel size
argument.</p>
<p>From Figure 3 we can clearly see the difference. Both of the two image
in Figure 3 have the Field of View (FOV) lager than the sun, which
contains a strong source. A too large FOV may introduce the signal from
side-lobe</p>
<p>The argument <strong>--scale</strong> means the resolution, so this number should be
"The smaller, the better". While, as mentioned previously, better image
demands larger FOV. Thus, we should balance between the resolution and
FOV. In this situation, the best choice is using as large FOV as
possible with enough resolution. The enough resolution for --scale is
usually 0.2*beamsize.</p>
<h3 id="iteration-steps">Iteration steps<a class="headerlink" href="#iteration-steps" title="Permanent link">&para;</a></h3>
<p>The number of iteration steps determines how many times the PSF fits
image, we can either use --niter to manually set the iteration step or
use --auto-threshold to let wsclean decide when to stop. The parameter
--niter is an "the more the better" parameter.</p>
<p><img alt="demoimg" src="../media/image9.png" />
 <img alt="demoimg" src="../media/image10.png" /></p>
<p>Figure 5. Comparing between large and small number of iteration</p>
<p>Small value for <strong>--niter</strong> will give you the fuzzy image with a
 correct peak value (if there is peak in the image). While, more
 iteration steps will give you the structure of the source.</p>
<h3 id="multiscale">Multiscale<a class="headerlink" href="#multiscale" title="Permanent link">&para;</a></h3>
<p>Wsclean assume the sources to be point source for default configuration,
this works for most of the astronomy work. The sun itself is a big
(960arcsec) extended source, and the active region is also non-point
like. Thus, the extended source needs to be considered for the solar
imaging. The parameter <strong>--multiscale</strong> is used to take extended source
into consideration.</p>
<p>The following is an example of imaging with and without --multiscale.</p>
<p><img alt="demoimg" src="../media/image11.png" />
 <img alt="demoimg" src="../media/image12.png" /></p>
<p>Figure 6. The residual map of the imaging with and without multiscale</p>
<p>Corresponding wsclean command is:</p>
<div class="codehilite"><pre><span></span><code>wsclean<span class="w"> </span>-j<span class="w"> </span><span class="m">40</span><span class="w"> </span>-mem<span class="w"> </span><span class="m">90</span><span class="w"> </span>-no-reorder<span class="w"> </span>-no-update-model-required<span class="w"> </span><span class="se">\</span>
-mgain<span class="w"> </span><span class="m">0</span>.8<span class="w"> </span>-weight<span class="w"> </span>briggs<span class="w"> </span><span class="m">0</span><span class="w"> </span>-size<span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="m">1024</span><span class="w"> </span><span class="se">\</span>
-scale<span class="w"> </span>4asec<span class="w"> </span>-pol<span class="w"> </span>I<span class="w"> </span>-auto-mask<span class="w"> </span><span class="m">6</span><span class="w"> </span>-multiscale<span class="w"> </span><span class="se">\</span>
-auto-threshold<span class="w"> </span><span class="m">2</span><span class="w"> </span>-data-column<span class="w"> </span>CORRECTED_DATA<span class="w"> </span><span class="se">\</span>
-niter<span class="w"> </span><span class="m">2000</span><span class="w"> </span>-intervals-out<span class="w"> </span><span class="m">1</span><span class="w"> </span>-interval<span class="w"> </span><span class="m">27250</span><span class="w"> </span><span class="m">27255</span><span class="w"> </span><span class="se">\</span>
-fit-beam<span class="w"> </span>-make-psf<span class="w"> </span>-name<span class="w"> </span><span class="se">\</span>
/data/scratch/zhang/fits_test_par/SB048testx<span class="w"> </span><span class="se">\</span>
/data/scratch/zhang/MS/L701913_SAP000_SB048_autow_uv.MS
</code></pre></div>

<p>The residual with default configurations (no multiscal) show large
 patterns with large intensity, while the residual with multiscale is
 flat and randomly distributed.</p>
<p>Note that the multiscale parameter is extremely time comsuming, for my
 case, it takes about 50x times of calculation resource to generate a
 image.</p>
<h2 id="abbreviations">Abbreviations<a class="headerlink" href="#abbreviations" title="Permanent link">&para;</a></h2>
<p><strong>FOV</strong> field of view</p>
<p><strong>FPS</strong> frame per second</p>
<p><strong>PSF</strong> Point source spread</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      . &copy; Peijin Zhang | Thanks for visiting <IMG SRC="/cgi-bin/Count.cgi?df=YourID.dat">
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/peijin94" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/peijin94" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.facebook.com/peijin.z/" target="_blank" rel="noopener" title="www.facebook.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.instagram.com/peijin94/" target="_blank" rel="noopener" title="www.instagram.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141m0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7m146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8m76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8M398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.zhihu.com/people/pjer/" target="_blank" rel="noopener" title="www.zhihu.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M170.54 148.13v217.54l23.43.01 7.71 26.37 42.01-26.37h49.53V148.13zm97.75 193.93h-27.94l-27.9 17.51-5.08-17.47-11.9-.04V171.75h72.82zm-118.46-94.39H97.5c1.74-27.1 2.2-51.59 2.2-73.46h51.16s1.97-22.56-8.58-22.31h-88.5c3.49-13.12 7.87-26.66 13.12-40.67 0 0-24.07 0-32.27 21.57-3.39 8.9-13.21 43.14-30.7 78.12 5.89-.64 25.37-1.18 36.84-22.21 2.11-5.89 2.51-6.66 5.14-14.53h28.87c0 10.5-1.2 66.88-1.68 73.44H20.83c-11.74 0-15.56 23.62-15.56 23.62h65.58C66.45 321.1 42.83 363.12 0 396.34c20.49 5.85 40.91-.93 51-9.9 0 0 22.98-20.9 35.59-69.25l53.96 64.94s7.91-26.89-1.24-39.99c-7.58-8.92-28.06-33.06-36.79-41.81L87.9 311.95c4.36-13.98 6.99-27.55 7.87-40.67h61.65s-.09-23.62-7.59-23.62zm412.02-1.6c20.83-25.64 44.98-58.57 44.98-58.57s-18.65-14.8-27.38-4.06c-6 8.15-36.83 48.2-36.83 48.2zm-150.09-59.09c-9.01-8.25-25.91 2.13-25.91 2.13s39.52 55.04 41.12 57.45l19.46-13.73s-25.67-37.61-34.66-45.86h-.01zM640 258.35c-19.78 0-130.91.93-131.06.93v-101c4.81 0 12.42-.4 22.85-1.2 40.88-2.41 70.13-4 87.77-4.81 0 0 12.22-27.19-.59-33.44-3.07-1.18-23.17 4.58-23.17 4.58s-165.22 16.49-232.36 18.05c1.6 8.82 7.62 17.08 15.78 19.55 13.31 3.48 22.69 1.7 49.15.89 24.83-1.6 43.68-2.43 56.51-2.43v99.81H351.41s2.82 22.31 25.51 22.85h107.94v70.92c0 13.97-11.19 21.99-24.48 21.12-14.08.11-26.08-1.15-41.69-1.81 1.99 3.97 6.33 14.39 19.31 21.84 9.88 4.81 16.17 6.57 26.02 6.57 29.56 0 45.67-17.28 44.89-45.31v-73.32h122.36c9.68 0 8.7-23.78 8.7-23.78z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://weibo.com/pjerustc/" target="_blank" rel="noopener" title="weibo.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3M214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2m143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116M347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3m-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5m-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34m32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tracking"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="http://home.ustc.edu.cn/~pjer1316/MathJax/MathJax.js?config=TeX-AMS_HTML"></script>
      
    
  </body>
</html>